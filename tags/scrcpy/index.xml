<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Scrcpy on 点半九</title><link>https://blog.djangozane.com/tags/scrcpy/</link><description>Recent content in Scrcpy on 点半九</description><generator>Hugo -- gohugo.io</generator><language>en</language><lastBuildDate>Tue, 24 Dec 2019 14:40:22 +0800</lastBuildDate><atom:link href="https://blog.djangozane.com/tags/scrcpy/index.xml" rel="self" type="application/rss+xml"/><item><title>Android 手机投屏到 Linux 下</title><link>https://blog.djangozane.com/post/android-%E6%89%8B%E6%9C%BA%E6%8A%95%E5%B1%8F%E5%88%B0-linux-%E4%B8%8B/</link><pubDate>Tue, 24 Dec 2019 14:40:22 +0800</pubDate><guid>https://blog.djangozane.com/post/android-%E6%89%8B%E6%9C%BA%E6%8A%95%E5%B1%8F%E5%88%B0-linux-%E4%B8%8B/</guid><description>&lt;p&gt;最近发现了一个可以在 Linux 下使用的手机投屏软件软件 —— &lt;strong&gt;scrcpy&lt;/strong&gt;，同时也支持 Windows 和 MacOS，但是因为我用的是 Manjaro Linux，所以下面只会介绍 Manjaro 下的情况。其他的系统可以参照 &lt;a href="https://github.com/Genymobile/scrcpy"&gt;scrcpy&lt;/a&gt;&lt;/p&gt;
&lt;h2 id="安装"&gt;安装&lt;/h2&gt;
&lt;p&gt;如果使用的是 Arch Linux 系的系统，并且已经配置了 archlinuxcn 的源，可以直接使用 pacman 进行安装：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;$ sudo pacman -S scrcpy
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;如果没有配置的话，也可以从 aur 获取，以 &lt;strong&gt;yay&lt;/strong&gt; 为例：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;$ yay scrcpy
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id="配置"&gt;配置&lt;/h2&gt;
&lt;p&gt;在开启 scrcpy 之前，你还需要做下面这几件事情：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;电脑上安装 &lt;strong&gt;adb&lt;/strong&gt;。&lt;/li&gt;
&lt;li&gt;在手机上打开 &lt;strong&gt;开发者模式&lt;/strong&gt;。&lt;/li&gt;
&lt;li&gt;在开发者模式当中开启 &lt;strong&gt;USB 调试&lt;/strong&gt; 以及 &lt;strong&gt;USB 调试(安全设置)&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;注：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;USB 调试(安全设置)&lt;/strong&gt; 可能不是所有的手机上都会有，如果有的话最好开启，我使用的是 mi Mix2，系统是 MIUI eu，不开启 &lt;strong&gt;USB 调试(安全设置)&lt;/strong&gt; 的情况下，在 scrcpy 当中是无法使用鼠标以及键盘的。&lt;/li&gt;
&lt;li&gt;在 Linux 下可以通过安装 &lt;strong&gt;android-tools&lt;/strong&gt; 来获取 adb。&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;p&gt;scrcpy 可以通过有线和无线两种方式连接手机。&lt;/p&gt;
&lt;h2 id="使用"&gt;使用&lt;/h2&gt;
&lt;h3 id="有线"&gt;有线&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;上面这些都准备好了之后，先使用数据线连接手机与电脑，在终端先输入 &lt;code&gt;adb devices&lt;/code&gt;，如果是第一次执行这条命令，在手机上应该会出现一个确认使用该电脑调试手机的通知，同时终端上也会显示你的设备号。&lt;/li&gt;
&lt;li&gt;点击确认之后，直接在终端输入 &lt;code&gt;scrcpy&lt;/code&gt; 应该就可以看到手机界面出现在电脑屏幕上了。&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="无线"&gt;无线&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;第一步同上面有线连接的第一步。&lt;/li&gt;
&lt;li&gt;连接成功之后，在终端输入 &lt;code&gt;adb tcpip 5555&lt;/code&gt;，这个端口可以根据自己的需要选择。&lt;/li&gt;
&lt;li&gt;开启成功之后就可以拔掉数据线了。&lt;/li&gt;
&lt;li&gt;在手机的 设置-&amp;gt;我的设备-&amp;gt;全部参数-&amp;gt;状态信息 中查看手机的 ip（这是 MIUI 的查看方式，其他系统应该大同小异）。&lt;/li&gt;
&lt;li&gt;在终端输入 &lt;code&gt;adb connect PHONE_IP:5555&lt;/code&gt; 连接手机。&lt;/li&gt;
&lt;li&gt;最后在终端输入 &lt;code&gt;scrcpy&lt;/code&gt; 就可以看到现在的手机界面了。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src="https://i.imgur.com/yWiL9sC.png" alt=""&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;注意：&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;连接之后，仅可以传输手机的画面，但并不能传递声音，声音依然是从手机发出的。&lt;/li&gt;
&lt;li&gt;开启 MIUI 的 USB 调试（安全设置）需要登录小米帐号才可以，如果使用 4g 网络依旧无法连接，可以尝试切换到 wifi 网络。&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;h2 id="快捷使用"&gt;快捷使用&lt;/h2&gt;
&lt;p&gt;下面是一些常用的键盘快捷方式：&lt;br&gt;
&lt;strong&gt;注：&lt;/strong&gt; Linux 下的 &lt;code&gt;mod&lt;/code&gt; 键为 &lt;code&gt;视窗&lt;/code&gt; 键，也就是那个 windows 图标键。&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;作用&lt;/th&gt;
&lt;th&gt;快捷键&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;返回&lt;/td&gt;
&lt;td&gt;mod+B&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;主界面&lt;/td&gt;
&lt;td&gt;mod+H&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;多任务界面&lt;/td&gt;
&lt;td&gt;mod+S&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;关闭手机屏幕（电脑上的界面正常显示）&lt;/td&gt;
&lt;td&gt;mod+O&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;开启手机屏幕&lt;/td&gt;
&lt;td&gt;右键单击&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;展开通知栏&lt;/td&gt;
&lt;td&gt;mod+N&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;折叠通知栏&lt;/td&gt;
&lt;td&gt;mod+Shift+N&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;如果需要将电脑的文件传到手机，直接将文件拖拽到电脑上的手机界面即可，文件默认是会存放在用户的主目录下的，也就是手机上跟 Downloads 同级的目录下。&lt;/p&gt;
&lt;p&gt;虽然 scrcpy 也支持同步手机跟电脑的剪贴板，不过不是很好用。&lt;/p&gt;
&lt;p&gt;此外， scrcpy 还支持很多其他的参数，也还有很多其他的快捷键，上面仅列出了我经常使用的几个。&lt;/p&gt;
&lt;p&gt;如果你手机跟电脑上还安装了 &lt;code&gt;kde-connect&lt;/code&gt; 的话，可以通过它来同步手机的通知以及剪贴板，还可以用来管理手机文件。跟 scrcpy 搭配使用体验还是很不错的。&lt;/p&gt;
&lt;p&gt;在连接到电脑之后我们很多时候可能都希望手机息屏而 PC 端的镜像可以常亮，虽然可以通过 &lt;code&gt;mod+O&lt;/code&gt; 来实现，但这种方式实现的亮屏会在达到手机屏幕休眠时间之后自动黑屏，所以想要实现常亮的话需要在启动 scrcpy 的时候添加一个可以保持屏幕唤醒的参数：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;$ scrcpy --turn-screen-off --stay-awake
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;如果亮屏是刚需的话也可以将这个命令设置为 scrcpy 的别名，只需要在 &lt;code&gt;~/.zshrc&lt;/code&gt; 或者 &lt;code&gt;~/.bashrc&lt;/code&gt; 中添加如下内容，然后 &lt;code&gt;source&lt;/code&gt; 该文件即可：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;alias scrcpy&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;scrcpy --turn-screen-off --stay-awake&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description></item></channel></rss>