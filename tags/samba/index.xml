<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Samba on ç‚¹åŠä¹</title><link>https://blog.djangozane.com/tags/samba/</link><description>Recent content in Samba on ç‚¹åŠä¹</description><generator>Hugo -- gohugo.io</generator><language>en</language><lastBuildDate>Thu, 14 Apr 2022 16:36:33 +0800</lastBuildDate><atom:link href="https://blog.djangozane.com/tags/samba/index.xml" rel="self" type="application/rss+xml"/><item><title>Linux è®¿é—® Windows å…±äº«ç›®å½•</title><link>https://blog.djangozane.com/post/linux-%E8%AE%BF%E9%97%AE-windows-%E5%85%B1%E4%BA%AB%E7%9B%AE%E5%BD%95/</link><pubDate>Thu, 14 Apr 2022 16:36:33 +0800</pubDate><guid>https://blog.djangozane.com/post/linux-%E8%AE%BF%E9%97%AE-windows-%E5%85%B1%E4%BA%AB%E7%9B%AE%E5%BD%95/</guid><description>&lt;p&gt;å› ä¸ºå·¥ä½œéœ€è¦ï¼Œéœ€è¦åœ¨ç”µè„‘ä¸Šå®‰è£…ä¸€ä¸ª VPN ç¨‹åºï¼Œä½†æ˜¯å®˜æ–¹å¹¶æ²¡æœ‰æä¾› Linux ç‰ˆæœ¬ï¼Œé€šè¿‡ wine è™½ç„¶èƒ½å®‰è£…æˆåŠŸï¼Œä½†æ˜¯ç•Œé¢æ€»æ˜¯æ˜¾ç¤ºä¸å‡ºæ¥ã€‚å®åœ¨ä¸æƒ³æŠ˜è…¾äº†ï¼Œå°±ç›´æ¥è£…äº†ä¸€ä¸ª Windows çš„è™šæ‹Ÿæœºï¼Œæœ‰ä¸€äº›éœ€è¦ç¼–è¾‘çš„æ–‡ä»¶å°±é€šè¿‡å…±äº«çš„æ–¹å¼åœ¨å®¿ä¸»æœºä¸Šè¿›è¡Œç¼–è¾‘&lt;/p&gt;
&lt;p&gt;Linux ä¸Š samba çš„å®‰è£…ä»¥åŠ Windows æ–‡ä»¶å…±äº«çš„è®¾ç½®å€’æ˜¯ä¸€å¸†é£é¡ºï¼Œæ²¡å‡ºç°ä»€ä¹ˆé—®é¢˜ï¼Œä¸è¿‡åœ¨ Linux ä¸‹è·å– Windows å…±äº«ç›®å½•çš„æ—¶å€™å´å‡ºç°äº†å¼‚å¸¸&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# æ­£å¸¸æ‰“å°å‡ºäº† users ç›®å½•ä¸‹çš„å†…å®¹&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;$ smbclient -c &lt;span style="color:#e6db74"&gt;&amp;#34;dir&amp;#34;&lt;/span&gt; //ip/users -U user%passwd
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;. DR &lt;span style="color:#ae81ff"&gt;0&lt;/span&gt; Wed Apr &lt;span style="color:#ae81ff"&gt;13&lt;/span&gt; 17:52:49 &lt;span style="color:#ae81ff"&gt;2022&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;.. DR &lt;span style="color:#ae81ff"&gt;0&lt;/span&gt; Wed Apr &lt;span style="color:#ae81ff"&gt;13&lt;/span&gt; 17:52:49 &lt;span style="color:#ae81ff"&gt;2022&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Default DHR &lt;span style="color:#ae81ff"&gt;0&lt;/span&gt; Wed Apr &lt;span style="color:#ae81ff"&gt;13&lt;/span&gt; 17:52:49 &lt;span style="color:#ae81ff"&gt;2022&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# ç»§ç»­æ‰“å°ç”¨æˆ·ç›®å½•ä¸‹çš„å†…å®¹æ—¶å‡ºç°å¼‚å¸¸&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;$ smbclient -c &lt;span style="color:#e6db74"&gt;&amp;#34;dir&amp;#34;&lt;/span&gt; //ip/users/test -U user%passwd
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;tree connect failed: NT_STATUS_BAD_NETWORK_NAME
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç»è¿‡ä¸€ç•ªå†²æµªä¹‹åå¤§æ¦‚ç¡®å®šåŸå› æ˜¯ Windows ä½¿ç”¨çš„ samba ç‰ˆæœ¬æ˜¯ v1ï¼Œè€Œ Linux ä¸‹çš„ samba ç‰ˆæœ¬æ˜¯ v4ï¼Œv4 å¹¶ä¸ç›´æ¥å‘ä¸‹å…¼å®¹ï¼Œ&lt;code&gt;smbclient&lt;/code&gt; åˆä¸æ”¯æŒæŒ‡å®š samba ç‰ˆæœ¬ï¼Œä¸æŒ‡å®š samba ç‰ˆæœ¬å°±æ— æ³•ç›´æ¥æ‰“å°å‡ºå…±äº«ç›®å½•ä¸­çš„æ–‡ä»¶ï¼Œæ­»å¾ªç¯&lt;/p&gt;
&lt;p&gt;ä¸è¿‡é€šè¿‡ mount ä½¿ç”¨ cifs æ ¼å¼æŒ‚è½½å…±äº«ç›®å½•çš„æ—¶å€™æ˜¯å¯ä»¥æŒ‡å®š samba ç‰ˆæœ¬çš„ï¼Œä¿®æ”¹å‘½ä»¤ï¼Œé€šè¿‡ä¸‹é¢çš„æ–¹å¼å¯ä»¥å°†å…±äº«ç›®å½•æŒ‚è½½åˆ°æœ¬åœ°&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo mount -t cifs -o username&lt;span style="color:#f92672"&gt;=&lt;/span&gt;windows_user,password&lt;span style="color:#f92672"&gt;=&lt;/span&gt;windows_user_password,vers&lt;span style="color:#f92672"&gt;=&lt;/span&gt;1.0,gid&lt;span style="color:#f92672"&gt;=&lt;/span&gt;$GID,uid&lt;span style="color:#f92672"&gt;=&lt;/span&gt;$UID //ip/å…±äº«è·¯å¾„ /home/test/samba_mount_path
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;è¿™é‡Œæ³¨æ„æŠŠ windows_userã€windows_user_passwordã€ipã€å…±äº«è·¯å¾„ä¿®æ”¹ä¸º Windows å¯¹åº”çš„ä¿¡æ¯ï¼Œ/home/test/samba_mount_path æ˜¯åœ¨ Linux ä¸‹çš„æŒ‚è½½ç‚¹&lt;/li&gt;
&lt;li&gt;vers=1.0 æŒ‡å®šçš„æ˜¯ samba çš„åè®®ç‰ˆæœ¬&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å› ä¸ºä¸€èˆ¬æƒ…å†µä¸‹éƒ½æ˜¯ç”± root ç”¨æˆ·æ¥è¿›è¡Œ mount æ“ä½œçš„ï¼ŒæŒ‚è½½åˆ°æœ¬åœ°çš„ç›®å½•æ‰€å±ç”¨æˆ·åŠç”¨æˆ·ç»„ä¹Ÿæ˜¯ rootï¼Œå¯¹å…¶ä¸­çš„æ–‡ä»¶è¿›è¡Œæ“ä½œæ—¶éœ€è¦æ·»åŠ  sudo å‰ç¼€å‘½ä»¤ï¼Œä¸ºäº†è®©æ™®é€šç”¨æˆ·èƒ½ç›´æ¥æ“ä½œï¼Œæ­¤å¤„éœ€è¦æŒ‡å®š gid=$GID,uid=$UID ä¸¤ä¸ªå‚æ•°ï¼Œåˆ†åˆ«ä»£è¡¨å½“å‰ç”¨æˆ·æ‰€å±ç”¨æˆ·ç»„çš„ ID å’Œå½“å‰ç”¨æˆ·çš„ ID&lt;/p&gt;</description></item><item><title>IPhone æ— æ³•ç§»åŠ¨æ–‡ä»¶åˆ° samba å…±äº«ç›®å½•</title><link>https://blog.djangozane.com/post/iphone-%E6%97%A0%E6%B3%95%E7%A7%BB%E5%8A%A8%E6%96%87%E4%BB%B6%E5%88%B0-samba-%E5%85%B1%E4%BA%AB%E7%9B%AE%E5%BD%95/</link><pubDate>Fri, 15 Oct 2021 00:43:52 +0800</pubDate><guid>https://blog.djangozane.com/post/iphone-%E6%97%A0%E6%B3%95%E7%A7%BB%E5%8A%A8%E6%96%87%E4%BB%B6%E5%88%B0-samba-%E5%85%B1%E4%BA%AB%E7%9B%AE%E5%BD%95/</guid><description>&lt;p&gt;ä¸ºäº†åœ¨å±€åŸŸç½‘è®¾å¤‡ä¹‹é—´è¿›è¡Œæ–‡ä»¶å…±äº«ï¼Œæœ€è¿‘ä¸€ç›´åœ¨æŠ˜è…¾ sambaï¼Œç›®å‰å·²ç»åŸºæœ¬ä¸Šç®—æ˜¯æå¥½äº†ã€‚ä½†æ˜¯åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ä¹Ÿé‡åˆ°äº†ä¸€ä¸ªæ¯”è¾ƒè›‹ç–¼çš„äº‹æƒ…ï¼Œå°±æ˜¯é€šè¿‡ PC å’Œ Android éƒ½å¯ä»¥æ­£å¸¸å‘å…±äº«ç›®å½•å†™å…¥æ–‡ä»¶ï¼Œåœ¨ IPhone ç«¯è™½ç„¶å¯ä»¥æ­£å¸¸æŸ¥çœ‹å…±äº«ç›®å½•ä¸­çš„æ–‡ä»¶ï¼Œä½†æ˜¯æ— æ³•å°† IPhone ä¸Šçš„æ–‡ä»¶ç§»åŠ¨/å¤åˆ¶åˆ°å…±äº«ç›®å½•ä¸­ã€‚æ¯æ¬¡é€šè¿‡ IPhone å‘å…±äº«ç›®å½•ä¸­å†™å…¥æ–‡ä»¶éƒ½ä¼šå‡ºç°ä¸‹é¢çš„æŠ¥é”™ï¼š&lt;br&gt;
&lt;img src="https://i.imgur.com/D4PxRwz.png" alt="Imgur"&gt;&lt;/p&gt;
&lt;p&gt;ç»è¿‡æˆ‘åœ¨ç½‘ä¸Šçš„ä¸€ç•ªå†²æµªä¹‹åæ‰¾åˆ°äº†å¦‚ä¸‹çš„è§£å†³æ–¹æ¡ˆï¼š&lt;/p&gt;
&lt;p&gt;åœ¨ samba é…ç½®æ–‡ä»¶çš„ [global] ä¸­æ·»åŠ  &lt;code&gt;vfs objects = fruit streams_xattr&lt;/code&gt;ï¼ˆå½“ç„¶ä¹Ÿå¯ä»¥ä»…é’ˆå¯¹æŸäº›ç‰¹å®šçš„å…±äº«ç›®å½•å•ç‹¬é…ç½®ï¼‰ï¼Œç„¶åé‡å¯ samba æœåŠ¡ï¼Œæ³¨æ„æ˜¯é‡å¯ restartï¼Œä¸æ˜¯é‡æ–°åŠ è½½é…ç½®æ–‡ä»¶ reloadã€‚ä»…é‡æ–°åŠ è½½é…ç½®æ–‡ä»¶è¿™ä¸ªè§„åˆ™è¿˜æ˜¯æ— æ³•ç”Ÿæ•ˆçš„ã€‚&lt;/p&gt;
&lt;p&gt;samba ä¸­çš„ VFSï¼ˆè™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿï¼‰å¯ä»¥é€šè¿‡ä¸€äº›æ‰©å±•æ¨¡å—å¢å¼º samba çš„åŠŸèƒ½ï¼Œè€Œä¸Šé¢è¿™è¡Œé…ç½®å¯ç”¨äº† VFS çš„ä¸¤ä¸ªæ¨¡å—ï¼Œå…¶ä¸­å¯¹è§£å†³æœ¬æ¬¡é—®é¢˜èµ·ä¸»è¦ä½œç”¨çš„æ˜¯ &lt;code&gt;fruit&lt;/code&gt; æ¨¡å—ï¼ˆå¯ä»¥çš„ï¼Œæœå­ğŸ¤£ï¼‰ï¼Œè¿™ä¸ªæ¨¡å—ä¸»è¦æ˜¯å¢å¼º samba ä¸ Apple ç³»ç»Ÿçš„å…¼å®¹æ€§ã€‚&lt;/p&gt;
&lt;p&gt;æ­¤å¤–ï¼Œå¦‚æœä» IPhone ä¸€æ¬¡æ€§å‘å…±äº«æ–‡ä»¶å†™å…¥å¤§é‡æ–‡ä»¶çš„è¯ï¼Œå¯èƒ½ä¼šå‡ºç°æœ‰äº›æ–‡ä»¶å†™å¤±è´¥çš„æƒ…å†µï¼Œè¿™ä¸ªé—®é¢˜æš‚æ—¶è¿˜æ²¡æœ‰æ‰¾åˆ°è§£å†³æ–¹æ¡ˆï¼Œä¸è¿‡å› ä¸ºä¸€æ¬¡æ€§å†™å…¥å¤§é‡æ–‡ä»¶éœ€æ±‚ä¹Ÿä¸æ˜¯å¾ˆå¤šï¼Œæš‚æ—¶å¹¶ä¸å½±å“ä½“éªŒã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href="https://wiki.samba.org/index.php/Virtual_File_System_Modules"&gt;https://wiki.samba.org/index.php/Virtual_File_System_Modules&lt;/a&gt;&lt;/p&gt;</description></item></channel></rss>