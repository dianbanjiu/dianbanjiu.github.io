<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Explain Plan on 点半九</title><link>https://www.dianbanjiu.com/tags/explain-plan/</link><description>Recent content in Explain Plan on 点半九</description><generator>Hugo -- gohugo.io</generator><language>en</language><lastBuildDate>Mon, 27 Sep 2021 00:10:18 +0800</lastBuildDate><atom:link href="https://www.dianbanjiu.com/tags/explain-plan/index.xml" rel="self" type="application/rss+xml"/><item><title>各类数据库获取执行计划的方式</title><link>https://www.dianbanjiu.com/post/%E5%90%84%E7%B1%BB%E6%95%B0%E6%8D%AE%E5%BA%93%E8%8E%B7%E5%8F%96%E6%89%A7%E8%A1%8C%E8%AE%A1%E5%88%92%E7%9A%84%E6%96%B9%E5%BC%8F/</link><pubDate>Mon, 27 Sep 2021 00:10:18 +0800</pubDate><guid>https://www.dianbanjiu.com/post/%E5%90%84%E7%B1%BB%E6%95%B0%E6%8D%AE%E5%BA%93%E8%8E%B7%E5%8F%96%E6%89%A7%E8%A1%8C%E8%AE%A1%E5%88%92%E7%9A%84%E6%96%B9%E5%BC%8F/</guid><description>&lt;blockquote>
&lt;p>本文仅介绍各类数据库执行计划的获取方式，执行计划内容的解读请参照官方文档&lt;/p>&lt;/blockquote>
&lt;p>创建示例表 test，对应 DDL 语句如下&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sql" data-lang="sql">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">SQL&lt;/span>&lt;span style="color:#f92672">&amp;gt;&lt;/span> &lt;span style="color:#66d9ef">create&lt;/span> &lt;span style="color:#66d9ef">table&lt;/span> test (id int &lt;span style="color:#66d9ef">primary&lt;/span> &lt;span style="color:#66d9ef">key&lt;/span>, name varchar(&lt;span style="color:#ae81ff">20&lt;/span>))
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="postgresqlkingbase人大金仓">PostgreSQL/Kingbase（人大金仓）&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sql" data-lang="sql">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">SQL&lt;/span>&lt;span style="color:#f92672">&amp;gt;&lt;/span> &lt;span style="color:#66d9ef">explain&lt;/span> [(format [json&lt;span style="color:#f92672">|&lt;/span>yaml&lt;span style="color:#f92672">|&lt;/span>text])] &lt;span style="color:#66d9ef">select&lt;/span> &lt;span style="color:#f92672">*&lt;/span> &lt;span style="color:#66d9ef">from&lt;/span> test
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>&lt;code>format&lt;/code> 参数是可选的，但是格式化之后的数据可以方便通过代码读取&lt;/li>
&lt;li>支持的 SQL 类型 SELECT，INSERT，UPDATE，DELETE，VALUES，EXECUTE，DECLARE，CREATE TABLE，CREATE MATERIALIZED VIEW&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>不添加 &lt;code>format&lt;/code> 参数的结果&lt;/strong>&lt;/p>
&lt;pre tabindex="0">&lt;code>Seq Scan on test (cost=0.00..22.70 rows=1270 width=36)
&lt;/code>&lt;/pre>&lt;p>&lt;strong>添加 &lt;code>format json&lt;/code> 的结果&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-json" data-lang="json">&lt;span style="display:flex;">&lt;span>[
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">&amp;#34;Plan&amp;#34;&lt;/span>: {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">&amp;#34;Node Type&amp;#34;&lt;/span>: &lt;span style="color:#e6db74">&amp;#34;Seq Scan&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">&amp;#34;Parallel Aware&amp;#34;&lt;/span>: &lt;span style="color:#66d9ef">false&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">&amp;#34;Relation Name&amp;#34;&lt;/span>: &lt;span style="color:#e6db74">&amp;#34;test&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">&amp;#34;Alias&amp;#34;&lt;/span>: &lt;span style="color:#e6db74">&amp;#34;test&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">&amp;#34;Startup Cost&amp;#34;&lt;/span>: &lt;span style="color:#ae81ff">0.00&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">&amp;#34;Total Cost&amp;#34;&lt;/span>: &lt;span style="color:#ae81ff">22.70&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">&amp;#34;Plan Rows&amp;#34;&lt;/span>: &lt;span style="color:#ae81ff">1270&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">&amp;#34;Plan Width&amp;#34;&lt;/span>: &lt;span style="color:#ae81ff">36&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>]
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="mysql">MySQL&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sql" data-lang="sql">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">SQL&lt;/span>&lt;span style="color:#f92672">&amp;gt;&lt;/span> &lt;span style="color:#66d9ef">explain&lt;/span> &lt;span style="color:#66d9ef">select&lt;/span> &lt;span style="color:#f92672">*&lt;/span> &lt;span style="color:#66d9ef">from&lt;/span> test
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>支持的 SQL 类型：SELECT，DELETE，INSERT，REPLACE，UPDATE&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://imgur.com/gRhu4YL.png" alt="Imgur">&lt;/p>
&lt;h2 id="oracle">Oracle&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sql" data-lang="sql">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">SQL&lt;/span>&lt;span style="color:#f92672">&amp;gt;&lt;/span> &lt;span style="color:#66d9ef">delete&lt;/span> &lt;span style="color:#66d9ef">from&lt;/span> plan_table &lt;span style="color:#66d9ef">where&lt;/span> statement_id &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#e6db74">&amp;#39;{statement_id}&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">SQL&lt;/span>&lt;span style="color:#f92672">&amp;gt;&lt;/span> &lt;span style="color:#66d9ef">explain&lt;/span> plan &lt;span style="color:#66d9ef">set&lt;/span> statement_id &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#e6db74">&amp;#39;{statement_id}&amp;#39;&lt;/span> &lt;span style="color:#66d9ef">for&lt;/span> &lt;span style="color:#66d9ef">select&lt;/span> &lt;span style="color:#f92672">*&lt;/span> &lt;span style="color:#66d9ef">from&lt;/span> test
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">SQL&lt;/span>&lt;span style="color:#f92672">&amp;gt;&lt;/span> &lt;span style="color:#66d9ef">select&lt;/span> id,lpad(&lt;span style="color:#e6db74">&amp;#39; &amp;#39;&lt;/span>,depth&lt;span style="color:#f92672">*&lt;/span>&lt;span style="color:#ae81ff">2&lt;/span>,&lt;span style="color:#e6db74">&amp;#39; &amp;#39;&lt;/span>)&lt;span style="color:#f92672">||&lt;/span>&lt;span style="color:#66d9ef">operation&lt;/span> &lt;span style="color:#f92672">||&lt;/span> &lt;span style="color:#e6db74">&amp;#39; &amp;#39;&lt;/span> &lt;span style="color:#f92672">||&lt;/span> &lt;span style="color:#66d9ef">options&lt;/span> PLAN_STEP,OBJECT_OWNER,OBJECT_NAME,OBJECT_TYPE,COST,&lt;span style="color:#66d9ef">CARDINALITY&lt;/span>,ACCESS_PREDICATES,FILTER_PREDICATES &lt;span style="color:#66d9ef">from&lt;/span> plan_table &lt;span style="color:#66d9ef">where&lt;/span> statement_id &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#e6db74">&amp;#39;{statement_id}&amp;#39;&lt;/span> &lt;span style="color:#66d9ef">order&lt;/span> &lt;span style="color:#66d9ef">by&lt;/span> id&lt;span style="color:#e6db74">&amp;#34;;
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>在执行之前需要先从表执行计划的表中删除指定 &lt;code>{statement_id}&lt;/code> 的数据&lt;/li>
&lt;li>&lt;code>{statement_id}&lt;/code> 是执行计划表中一次执行计划的唯一标识&lt;/li>
&lt;li>支持的 SQL 类型：INSERT，UPDATE，DELETE，SELECT&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://imgur.com/hPRd7YM.png" alt="Imgur">&lt;/p>
&lt;h2 id="db2">DB2&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sql" data-lang="sql">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">SQL&lt;/span>&lt;span style="color:#f92672">&amp;gt;&lt;/span> &lt;span style="color:#66d9ef">explain&lt;/span> plan &lt;span style="color:#66d9ef">set&lt;/span> QUERYTAG&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#39;{statement_id}&amp;#39;&lt;/span> &lt;span style="color:#66d9ef">for&lt;/span> &lt;span style="color:#66d9ef">select&lt;/span> &lt;span style="color:#f92672">*&lt;/span> &lt;span style="color:#66d9ef">from&lt;/span> test
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>DB2 需要先设置解释 schema &lt;code>{explain_schema}&lt;/code>之后才能获取对应的执行计划数据&lt;/li>
&lt;li>&lt;code>{statement_id}&lt;/code> 是执行计划表中一次执行计划的唯一标识&lt;/li>
&lt;li>DB2 的执行结果需要结合多张解释表综合读取，此处就不做展示了&lt;/li>
&lt;li>支持的 SQL 类型：SELECT，MERGE，TRUNCATE，INSERT，UPDATE，DELETE&lt;/li>
&lt;/ul>
&lt;h2 id="sql-server">SQL Server&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sql" data-lang="sql">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">SQL&lt;/span>&lt;span style="color:#f92672">&amp;gt;&lt;/span> &lt;span style="color:#66d9ef">set&lt;/span> showplan_all &lt;span style="color:#66d9ef">on&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">SQL&lt;/span>&lt;span style="color:#f92672">&amp;gt;&lt;/span> &lt;span style="color:#66d9ef">select&lt;/span> &lt;span style="color:#f92672">*&lt;/span> &lt;span style="color:#66d9ef">from&lt;/span> test
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">SQL&lt;/span>&lt;span style="color:#f92672">&amp;gt;&lt;/span> &lt;span style="color:#66d9ef">set&lt;/span> showplan_all &lt;span style="color:#66d9ef">off&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>SQL Server 提供了三种类型的参数来获取执行计划 &lt;code>showplan_all/showplan_xml/showplan_text&lt;/code>
&lt;ul>
&lt;li>&lt;code>showplan_xml/showplan_text&lt;/code> 是以文本的形式展示执行计划&lt;/li>
&lt;li>&lt;code>showplan_all&lt;/code> 则是以结果集的形式展示执行计划&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>位于 &lt;code>set showplan_all on&lt;/code> 与 &lt;code>set showplan_all off&lt;/code> 之间的语句并不会实际执行，所以在开启 &lt;code>showplan&lt;/code> 参数之后记得关掉它，否则在当前会话执行的所有 SQL 都不会实际去执行&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>showplan_all 结果展示&lt;/strong>&lt;/p>
&lt;p>&lt;img src="https://imgur.com/8rQ3Amn.png" alt="Imgur">&lt;/p>
&lt;p>&lt;strong>showplan_xml 结果展示&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-xml" data-lang="xml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">&amp;lt;ShowPlanXML&lt;/span> &lt;span style="color:#a6e22e">xmlns=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;http://schemas.microsoft.com/sqlserver/2004/07/showplan&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">Version=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;1.0&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">Build=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;9.00.1399.06&amp;#34;&lt;/span>&lt;span style="color:#f92672">&amp;gt;&amp;lt;BatchSequence&amp;gt;&amp;lt;Batch&amp;gt;&amp;lt;Statements&amp;gt;&amp;lt;StmtSimple&lt;/span> &lt;span style="color:#a6e22e">StatementText=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;select * from test&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">StatementId=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;1&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">StatementCompId=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;1&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">StatementType=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;SELECT&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">StatementSubTreeCost=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;0.0409839&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">StatementEstRows=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;10032&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">StatementOptmLevel=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;TRIVIAL&amp;#34;&lt;/span>&lt;span style="color:#f92672">&amp;gt;&amp;lt;StatementSetOptions&lt;/span> &lt;span style="color:#a6e22e">QUOTED_IDENTIFIER=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;false&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">ARITHABORT=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;false&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">CONCAT_NULL_YIELDS_NULL=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;false&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">ANSI_NULLS=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;false&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">ANSI_PADDING=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;false&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">ANSI_WARNINGS=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;false&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">NUMERIC_ROUNDABORT=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;false&amp;#34;&lt;/span>&lt;span style="color:#f92672">/&amp;gt;&amp;lt;QueryPlan&lt;/span> &lt;span style="color:#a6e22e">CachedPlanSize=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;9&amp;#34;&lt;/span>&lt;span style="color:#f92672">&amp;gt;&amp;lt;RelOp&lt;/span> &lt;span style="color:#a6e22e">NodeId=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;0&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">PhysicalOp=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;Table Scan&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">LogicalOp=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;Table Scan&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">EstimateRows=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;10032&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">EstimateIO=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;0.0298702&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">EstimateCPU=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;0.0111137&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">AvgRowSize=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;11&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">EstimatedTotalSubtreeCost=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;0.0409839&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">Parallel=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;0&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">EstimateRebinds=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;0&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">EstimateRewinds=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;0&amp;#34;&lt;/span>&lt;span style="color:#f92672">&amp;gt;&amp;lt;OutputList&amp;gt;&amp;lt;ColumnReference&lt;/span> &lt;span style="color:#a6e22e">Database=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;[master]&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">Schema=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;[dbo]&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">Table=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;[test]&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">Column=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;id&amp;#34;&lt;/span>&lt;span style="color:#f92672">/&amp;gt;&amp;lt;/OutputList&amp;gt;&amp;lt;TableScan&lt;/span> &lt;span style="color:#a6e22e">Ordered=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;0&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">ForcedIndex=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;0&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">NoExpandHint=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;0&amp;#34;&lt;/span>&lt;span style="color:#f92672">&amp;gt;&amp;lt;DefinedValues&amp;gt;&amp;lt;DefinedValue&amp;gt;&amp;lt;ColumnReference&lt;/span> &lt;span style="color:#a6e22e">Database=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;[master]&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">Schema=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;[dbo]&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">Table=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;[test]&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">Column=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;id&amp;#34;&lt;/span>&lt;span style="color:#f92672">/&amp;gt;&amp;lt;/DefinedValue&amp;gt;&amp;lt;/DefinedValues&amp;gt;&amp;lt;Object&lt;/span> &lt;span style="color:#a6e22e">Database=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;[master]&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">Schema=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;[dbo]&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">Table=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;[test]&amp;#34;&lt;/span>&lt;span style="color:#f92672">/&amp;gt;&amp;lt;/TableScan&amp;gt;&amp;lt;/RelOp&amp;gt;&amp;lt;/QueryPlan&amp;gt;&amp;lt;/StmtSimple&amp;gt;&amp;lt;/Statements&amp;gt;&amp;lt;/Batch&amp;gt;&amp;lt;/BatchSequence&amp;gt;&amp;lt;/ShowPlanXML&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="dm达梦">DM（达梦）&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sql" data-lang="sql">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">SQL&lt;/span>&lt;span style="color:#f92672">&amp;gt;&lt;/span> &lt;span style="color:#66d9ef">explain&lt;/span> &lt;span style="color:#66d9ef">for&lt;/span> &lt;span style="color:#66d9ef">select&lt;/span> &lt;span style="color:#f92672">*&lt;/span> &lt;span style="color:#66d9ef">from&lt;/span> test
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;img src="https://imgur.com/F0e4Vsd.png" alt="Imgur">&lt;/p>
&lt;h2 id="informix">Informix&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>echo -e &lt;span style="color:#e6db74">&amp;#34;SET EXPLAIN FILE TO &amp;#39;&amp;#34;&lt;/span>&lt;span style="color:#e6db74">&amp;#39;{temp_file}&amp;#39;&lt;/span>&lt;span style="color:#e6db74">&amp;#34;&amp;#39;;\n SET EXPLAIN ON AVOID_EXECUTE;\n select * from test1\n &amp;#34;&lt;/span>| dbaccess sysmaster
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>Informix 的执行计划是通过终端命令而非 SQL 指令来获取的&lt;/li>
&lt;li>&lt;code>{temp_file}&lt;/code> 指定的是执行计划的输出文件，若该文件不存在，Informix 会自动创建&lt;/li>
&lt;li>支持审核的 SQL 类型：SELECT，MERGE，INSERT，UPDATE，DELETE&lt;/li>
&lt;/ul></description></item></channel></rss>