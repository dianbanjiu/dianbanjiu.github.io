<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>执行计划 on 点半九</title><link>https://blog.djangozane.com/tags/%E6%89%A7%E8%A1%8C%E8%AE%A1%E5%88%92/</link><description>Recent content in 执行计划 on 点半九</description><generator>Hugo -- gohugo.io</generator><language>en</language><lastBuildDate>Mon, 27 Sep 2021 00:10:18 +0800</lastBuildDate><atom:link href="https://blog.djangozane.com/tags/%E6%89%A7%E8%A1%8C%E8%AE%A1%E5%88%92/index.xml" rel="self" type="application/rss+xml"/><item><title>各类数据库获取执行计划的方式</title><link>https://blog.djangozane.com/post/%E5%90%84%E7%B1%BB%E6%95%B0%E6%8D%AE%E5%BA%93%E8%8E%B7%E5%8F%96%E6%89%A7%E8%A1%8C%E8%AE%A1%E5%88%92%E7%9A%84%E6%96%B9%E5%BC%8F/</link><pubDate>Mon, 27 Sep 2021 00:10:18 +0800</pubDate><guid>https://blog.djangozane.com/post/%E5%90%84%E7%B1%BB%E6%95%B0%E6%8D%AE%E5%BA%93%E8%8E%B7%E5%8F%96%E6%89%A7%E8%A1%8C%E8%AE%A1%E5%88%92%E7%9A%84%E6%96%B9%E5%BC%8F/</guid><description>&lt;blockquote&gt;
&lt;p&gt;本文仅介绍各类数据库执行计划的获取方式，执行计划内容的解读请参照官方文档&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;创建示例表 test，对应 DDL 语句如下&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-sql" data-lang="sql"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;SQL&lt;/span&gt;&lt;span style="color:#f92672"&gt;&amp;gt;&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;create&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;table&lt;/span&gt; test (id int &lt;span style="color:#66d9ef"&gt;primary&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;key&lt;/span&gt;, name varchar(&lt;span style="color:#ae81ff"&gt;20&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id="postgresqlkingbase人大金仓"&gt;PostgreSQL/Kingbase（人大金仓）&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-sql" data-lang="sql"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;SQL&lt;/span&gt;&lt;span style="color:#f92672"&gt;&amp;gt;&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;explain&lt;/span&gt; [(format [json&lt;span style="color:#f92672"&gt;|&lt;/span&gt;yaml&lt;span style="color:#f92672"&gt;|&lt;/span&gt;text])] &lt;span style="color:#66d9ef"&gt;select&lt;/span&gt; &lt;span style="color:#f92672"&gt;*&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;from&lt;/span&gt; test
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;format&lt;/code&gt; 参数是可选的，但是格式化之后的数据可以方便通过代码读取&lt;/li&gt;
&lt;li&gt;支持的 SQL 类型 SELECT，INSERT，UPDATE，DELETE，VALUES，EXECUTE，DECLARE，CREATE TABLE，CREATE MATERIALIZED VIEW&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;不添加 &lt;code&gt;format&lt;/code&gt; 参数的结果&lt;/strong&gt;&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;Seq Scan on test (cost=0.00..22.70 rows=1270 width=36)
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;strong&gt;添加 &lt;code&gt;format json&lt;/code&gt; 的结果&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-json" data-lang="json"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;[
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;&amp;#34;Plan&amp;#34;&lt;/span&gt;: {
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;&amp;#34;Node Type&amp;#34;&lt;/span&gt;: &lt;span style="color:#e6db74"&gt;&amp;#34;Seq Scan&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;&amp;#34;Parallel Aware&amp;#34;&lt;/span&gt;: &lt;span style="color:#66d9ef"&gt;false&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;&amp;#34;Relation Name&amp;#34;&lt;/span&gt;: &lt;span style="color:#e6db74"&gt;&amp;#34;test&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;&amp;#34;Alias&amp;#34;&lt;/span&gt;: &lt;span style="color:#e6db74"&gt;&amp;#34;test&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;&amp;#34;Startup Cost&amp;#34;&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;0.00&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;&amp;#34;Total Cost&amp;#34;&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;22.70&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;&amp;#34;Plan Rows&amp;#34;&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;1270&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;&amp;#34;Plan Width&amp;#34;&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;36&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id="mysql"&gt;MySQL&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-sql" data-lang="sql"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;SQL&lt;/span&gt;&lt;span style="color:#f92672"&gt;&amp;gt;&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;explain&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;select&lt;/span&gt; &lt;span style="color:#f92672"&gt;*&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;from&lt;/span&gt; test
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;支持的 SQL 类型：SELECT，DELETE，INSERT，REPLACE，UPDATE&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src="https://imgur.com/gRhu4YL.png" alt="Imgur"&gt;&lt;/p&gt;
&lt;h2 id="oracle"&gt;Oracle&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-sql" data-lang="sql"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;SQL&lt;/span&gt;&lt;span style="color:#f92672"&gt;&amp;gt;&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;delete&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;from&lt;/span&gt; plan_table &lt;span style="color:#66d9ef"&gt;where&lt;/span&gt; statement_id &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#39;{statement_id}&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;SQL&lt;/span&gt;&lt;span style="color:#f92672"&gt;&amp;gt;&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;explain&lt;/span&gt; plan &lt;span style="color:#66d9ef"&gt;set&lt;/span&gt; statement_id &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#39;{statement_id}&amp;#39;&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;for&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;select&lt;/span&gt; &lt;span style="color:#f92672"&gt;*&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;from&lt;/span&gt; test
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;SQL&lt;/span&gt;&lt;span style="color:#f92672"&gt;&amp;gt;&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;select&lt;/span&gt; id,lpad(&lt;span style="color:#e6db74"&gt;&amp;#39; &amp;#39;&lt;/span&gt;,depth&lt;span style="color:#f92672"&gt;*&lt;/span&gt;&lt;span style="color:#ae81ff"&gt;2&lt;/span&gt;,&lt;span style="color:#e6db74"&gt;&amp;#39; &amp;#39;&lt;/span&gt;)&lt;span style="color:#f92672"&gt;||&lt;/span&gt;&lt;span style="color:#66d9ef"&gt;operation&lt;/span&gt; &lt;span style="color:#f92672"&gt;||&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#39; &amp;#39;&lt;/span&gt; &lt;span style="color:#f92672"&gt;||&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;options&lt;/span&gt; PLAN_STEP,OBJECT_OWNER,OBJECT_NAME,OBJECT_TYPE,COST,&lt;span style="color:#66d9ef"&gt;CARDINALITY&lt;/span&gt;,ACCESS_PREDICATES,FILTER_PREDICATES &lt;span style="color:#66d9ef"&gt;from&lt;/span&gt; plan_table &lt;span style="color:#66d9ef"&gt;where&lt;/span&gt; statement_id &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#39;{statement_id}&amp;#39;&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;order&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;by&lt;/span&gt; id&lt;span style="color:#e6db74"&gt;&amp;#34;;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;在执行之前需要先从表执行计划的表中删除指定 &lt;code&gt;{statement_id}&lt;/code&gt; 的数据&lt;/li&gt;
&lt;li&gt;&lt;code&gt;{statement_id}&lt;/code&gt; 是执行计划表中一次执行计划的唯一标识&lt;/li&gt;
&lt;li&gt;支持的 SQL 类型：INSERT，UPDATE，DELETE，SELECT&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src="https://imgur.com/hPRd7YM.png" alt="Imgur"&gt;&lt;/p&gt;
&lt;h2 id="db2"&gt;DB2&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-sql" data-lang="sql"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;SQL&lt;/span&gt;&lt;span style="color:#f92672"&gt;&amp;gt;&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;explain&lt;/span&gt; plan &lt;span style="color:#66d9ef"&gt;set&lt;/span&gt; QUERYTAG&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#39;{statement_id}&amp;#39;&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;for&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;select&lt;/span&gt; &lt;span style="color:#f92672"&gt;*&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;from&lt;/span&gt; test
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;DB2 需要先设置解释 schema &lt;code&gt;{explain_schema}&lt;/code&gt;之后才能获取对应的执行计划数据&lt;/li&gt;
&lt;li&gt;&lt;code&gt;{statement_id}&lt;/code&gt; 是执行计划表中一次执行计划的唯一标识&lt;/li&gt;
&lt;li&gt;DB2 的执行结果需要结合多张解释表综合读取，此处就不做展示了&lt;/li&gt;
&lt;li&gt;支持的 SQL 类型：SELECT，MERGE，TRUNCATE，INSERT，UPDATE，DELETE&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="sql-server"&gt;SQL Server&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-sql" data-lang="sql"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;SQL&lt;/span&gt;&lt;span style="color:#f92672"&gt;&amp;gt;&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;set&lt;/span&gt; showplan_all &lt;span style="color:#66d9ef"&gt;on&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;SQL&lt;/span&gt;&lt;span style="color:#f92672"&gt;&amp;gt;&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;select&lt;/span&gt; &lt;span style="color:#f92672"&gt;*&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;from&lt;/span&gt; test
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;SQL&lt;/span&gt;&lt;span style="color:#f92672"&gt;&amp;gt;&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;set&lt;/span&gt; showplan_all &lt;span style="color:#66d9ef"&gt;off&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;SQL Server 提供了三种类型的参数来获取执行计划 &lt;code&gt;showplan_all/showplan_xml/showplan_text&lt;/code&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;showplan_xml/showplan_text&lt;/code&gt; 是以文本的形式展示执行计划&lt;/li&gt;
&lt;li&gt;&lt;code&gt;showplan_all&lt;/code&gt; 则是以结果集的形式展示执行计划&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;位于 &lt;code&gt;set showplan_all on&lt;/code&gt; 与 &lt;code&gt;set showplan_all off&lt;/code&gt; 之间的语句并不会实际执行，所以在开启 &lt;code&gt;showplan&lt;/code&gt; 参数之后记得关掉它，否则在当前会话执行的所有 SQL 都不会实际去执行&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;showplan_all 结果展示&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="https://imgur.com/8rQ3Amn.png" alt="Imgur"&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;showplan_xml 结果展示&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-xml" data-lang="xml"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;&amp;lt;ShowPlanXML&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;xmlns=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;http://schemas.microsoft.com/sqlserver/2004/07/showplan&amp;#34;&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;Version=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;1.0&amp;#34;&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;Build=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;9.00.1399.06&amp;#34;&lt;/span&gt;&lt;span style="color:#f92672"&gt;&amp;gt;&amp;lt;BatchSequence&amp;gt;&amp;lt;Batch&amp;gt;&amp;lt;Statements&amp;gt;&amp;lt;StmtSimple&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;StatementText=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;select * from test&amp;#34;&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;StatementId=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;1&amp;#34;&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;StatementCompId=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;1&amp;#34;&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;StatementType=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;SELECT&amp;#34;&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;StatementSubTreeCost=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;0.0409839&amp;#34;&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;StatementEstRows=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;10032&amp;#34;&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;StatementOptmLevel=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;TRIVIAL&amp;#34;&lt;/span&gt;&lt;span style="color:#f92672"&gt;&amp;gt;&amp;lt;StatementSetOptions&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;QUOTED_IDENTIFIER=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;false&amp;#34;&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;ARITHABORT=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;false&amp;#34;&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;CONCAT_NULL_YIELDS_NULL=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;false&amp;#34;&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;ANSI_NULLS=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;false&amp;#34;&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;ANSI_PADDING=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;false&amp;#34;&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;ANSI_WARNINGS=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;false&amp;#34;&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;NUMERIC_ROUNDABORT=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;false&amp;#34;&lt;/span&gt;&lt;span style="color:#f92672"&gt;/&amp;gt;&amp;lt;QueryPlan&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;CachedPlanSize=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;9&amp;#34;&lt;/span&gt;&lt;span style="color:#f92672"&gt;&amp;gt;&amp;lt;RelOp&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;NodeId=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;0&amp;#34;&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;PhysicalOp=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;Table Scan&amp;#34;&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;LogicalOp=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;Table Scan&amp;#34;&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;EstimateRows=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;10032&amp;#34;&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;EstimateIO=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;0.0298702&amp;#34;&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;EstimateCPU=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;0.0111137&amp;#34;&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;AvgRowSize=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;11&amp;#34;&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;EstimatedTotalSubtreeCost=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;0.0409839&amp;#34;&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;Parallel=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;0&amp;#34;&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;EstimateRebinds=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;0&amp;#34;&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;EstimateRewinds=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;0&amp;#34;&lt;/span&gt;&lt;span style="color:#f92672"&gt;&amp;gt;&amp;lt;OutputList&amp;gt;&amp;lt;ColumnReference&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;Database=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;[master]&amp;#34;&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;Schema=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;[dbo]&amp;#34;&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;Table=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;[test]&amp;#34;&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;Column=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;id&amp;#34;&lt;/span&gt;&lt;span style="color:#f92672"&gt;/&amp;gt;&amp;lt;/OutputList&amp;gt;&amp;lt;TableScan&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;Ordered=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;0&amp;#34;&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;ForcedIndex=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;0&amp;#34;&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;NoExpandHint=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;0&amp;#34;&lt;/span&gt;&lt;span style="color:#f92672"&gt;&amp;gt;&amp;lt;DefinedValues&amp;gt;&amp;lt;DefinedValue&amp;gt;&amp;lt;ColumnReference&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;Database=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;[master]&amp;#34;&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;Schema=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;[dbo]&amp;#34;&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;Table=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;[test]&amp;#34;&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;Column=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;id&amp;#34;&lt;/span&gt;&lt;span style="color:#f92672"&gt;/&amp;gt;&amp;lt;/DefinedValue&amp;gt;&amp;lt;/DefinedValues&amp;gt;&amp;lt;Object&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;Database=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;[master]&amp;#34;&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;Schema=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;[dbo]&amp;#34;&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;Table=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;[test]&amp;#34;&lt;/span&gt;&lt;span style="color:#f92672"&gt;/&amp;gt;&amp;lt;/TableScan&amp;gt;&amp;lt;/RelOp&amp;gt;&amp;lt;/QueryPlan&amp;gt;&amp;lt;/StmtSimple&amp;gt;&amp;lt;/Statements&amp;gt;&amp;lt;/Batch&amp;gt;&amp;lt;/BatchSequence&amp;gt;&amp;lt;/ShowPlanXML&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id="dm达梦"&gt;DM（达梦）&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-sql" data-lang="sql"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;SQL&lt;/span&gt;&lt;span style="color:#f92672"&gt;&amp;gt;&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;explain&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;for&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;select&lt;/span&gt; &lt;span style="color:#f92672"&gt;*&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;from&lt;/span&gt; test
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src="https://imgur.com/F0e4Vsd.png" alt="Imgur"&gt;&lt;/p&gt;
&lt;h2 id="informix"&gt;Informix&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;echo -e &lt;span style="color:#e6db74"&gt;&amp;#34;SET EXPLAIN FILE TO &amp;#39;&amp;#34;&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#39;{temp_file}&amp;#39;&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;&amp;#39;;\n SET EXPLAIN ON AVOID_EXECUTE;\n select * from test1\n &amp;#34;&lt;/span&gt;| dbaccess sysmaster
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Informix 的执行计划是通过终端命令而非 SQL 指令来获取的&lt;/li&gt;
&lt;li&gt;&lt;code&gt;{temp_file}&lt;/code&gt; 指定的是执行计划的输出文件，若该文件不存在，Informix 会自动创建&lt;/li&gt;
&lt;li&gt;支持审核的 SQL 类型：SELECT，MERGE，INSERT，UPDATE，DELETE&lt;/li&gt;
&lt;/ul&gt;</description></item></channel></rss>